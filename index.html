<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DD1 Bank - Simulador Pro</title>
    <style>
        /* --- ESTILOS BASE --- */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        body { background-color: #f0f2f5; display: flex; justify-content: center; min-height: 100vh; }
        
        :root {
            --primary-orange: #FF6B00;
            --dark-bg: #1a1a1a;
            --light-orange: #FFF0E5;
            --text-dark: #2c3e50;
            --gray: #7f8c8d;
            --green: #27ae60;
            --red: #e74c3c;
        }

        .mobile-container {
            width: 100%; max-width: 400px; background: #fff;
            position: relative; padding-bottom: 80px; min-height: 100vh;
            overflow-x: hidden; box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        /* --- HEADER --- */
        header { background: var(--primary-orange); color: white; padding: 30px 20px 45px; border-radius: 0 0 25px 25px; }
        .top-info { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .balance-display { font-size: 28px; font-weight: bold; margin-top: 5px; }

        /* --- NAVEGA√á√ÉO --- */
        .tab-content { display: none; padding: 20px; animation: fadeIn 0.3s ease; }
        .tab-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .shortcuts { display: flex; justify-content: space-around; margin-bottom: 25px; }
        .short-item { text-align: center; cursor: pointer; }
        .icon-box { 
            width: 55px; height: 55px; background: var(--light-orange); 
            border-radius: 15px; display: flex; align-items: center; 
            justify-content: center; font-size: 22px; color: var(--primary-orange);
            margin-bottom: 8px;
        }

        /* --- EXTRATO --- */
        .transaction-item { display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid #eee; }
        .t-info b { font-size: 14px; display: block; }
        .t-info small { color: var(--gray); font-size: 11px; }
        .t-amt { font-weight: bold; font-size: 14px; }

        /* --- INVEST (DD1 COIN) --- */
        .crypto-screen { background: var(--dark-bg); border-radius: 20px; padding: 25px; color: white; text-align: center; }
        .multiplier { font-size: 50px; font-weight: bold; color: var(--primary-orange); margin: 20px 0; }
        .crypto-input { width: 100%; background: #333; border: none; padding: 15px; border-radius: 12px; color: white; margin-bottom: 15px; text-align: center; font-size: 18px; }

        /* --- MODAIS E COMPROVANTE --- */
        .modal { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 200; display: none; align-items: flex-end; }
        .modal-body { background: white; width: 100%; padding: 25px; border-radius: 25px 25px 0 0; }
        
        /* Estilo Recibo */
        #modal-comprovante { align-items: center; background: white; z-index: 300; }
        .receipt-dashed { border-top: 1px dashed #ccc; border-bottom: 1px dashed #ccc; padding: 20px 0; margin: 20px 0; }

        .push { position: absolute; top: -100px; left: 15px; right: 15px; background: #333; color: white; padding: 15px; border-radius: 12px; transition: 0.5s; z-index: 400; display: flex; align-items: center; gap: 10px; }

        /* --- NAV BAR --- */
        .nav-bar { position: fixed; bottom: 0; width: 100%; max-width: 400px; background: white; border-top: 1px solid #eee; display: flex; justify-content: space-around; padding: 15px 0; z-index: 100; }
        .nav-btn { color: var(--gray); cursor: pointer; text-align: center; font-size: 12px; }
        .nav-btn.active { color: var(--primary-orange); font-weight: bold; }

        .btn { width: 100%; padding: 15px; border: none; border-radius: 12px; font-weight: bold; cursor: pointer; margin-top: 10px; }
        .btn-orange { background: var(--primary-orange); color: white; }
        .btn-green { background: var(--green); color: white; }
    </style>
</head>
<body>

<div class="mobile-container">
    <div id="push" class="push">
        <span style="font-size:20px">‚ùñ</span>
        <div><b style="font-size:13px">Pix Recebido!</b><br><small id="push-msg"></small></div>
    </div>

    <header>
        <div class="top-info"><b>DD1 Bank</b> üë§</div>
        <p style="font-size:12px; opacity:0.8">Saldo dispon√≠vel</p>
        <div id="main-balance" class="balance-display">R$ 1.450,30</div>
    </header>

    <div id="tab-home" class="tab-content active">
        <div class="shortcuts">
            <div class="short-item" onclick="openPix()">
                <div class="icon-box">‚ùñ</div><small>Pix</small>
            </div>
            <div class="short-item">
                <div class="icon-box">üìÑ</div><small>Boletos</small>
            </div>
            <div class="short-item">
                <div class="icon-box">üìä</div><small>Extrato</small>
            </div>
        </div>
        <h4>Hist√≥rico</h4>
        <div id="history-list" style="margin-top:10px">
            <div class="transaction-item">
                <div class="t-info"><b>Abertura de Conta</b><small>DD1 Bank</small></div>
                <div class="t-amt" style="color:var(--green)">+ R$ 1.450,30</div>
            </div>
        </div>
    </div>

    <div id="tab-invest" class="tab-content">
        <div class="crypto-screen">
            <p style="color:#aaa; font-size:12px">DD1 COIN INDEX</p>
            <div id="crypto-mult" class="multiplier">1.00x</div>
            <input type="number" id="invest-amt" class="crypto-input" placeholder="R$ Valor do Trade">
            <button id="btn-trade-start" class="btn btn-orange" onclick="startTrade()">Entrar no Trade</button>
            <button id="btn-trade-stop" class="btn btn-green" style="display:none" onclick="cashOut()">VENDER AGORA</button>
            <p id="trade-status" style="margin-top:15px; font-size:12px; color:#aaa">Tente multiplicar seu saldo</p>
        </div>
    </div>

    <div id="tab-config" class="tab-content">
        <h3>Painel de Controle</h3>
        <div style="margin-top:20px">
            <label style="font-size:11px; color:var(--gray)">ALTERAR SALDO</label>
            <input type="number" id="cfg-new-balance" class="crypto-input" style="background:#eee; color:#333" placeholder="R$ 0,00">
            <button class="btn btn-orange" onclick="updateBalanceManual()">Atualizar</button>
        </div>
        <div style="margin-top:30px; border-top:1px solid #eee; padding-top:20px">
            <h4>Agendar Pix Recebido</h4>
            <input type="text" id="sched-name" class="crypto-input" style="background:#eee; color:#333; margin-top:10px" placeholder="Nome do Pagador">
            <input type="number" id="sched-amt" class="crypto-input" style="background:#eee; color:#333" placeholder="Valor R$">
            <input type="number" id="sched-time" class="crypto-input" style="background:#eee; color:#333" value="10">
            <button class="btn btn-green" onclick="scheduleInbound()">Agendar Simula√ß√£o</button>
        </div>
    </div>

    <div id="modal-pix" class="modal">
        <div class="modal-body">
            <h4>Enviar Pix</h4>
            <input type="text" id="pix-key" class="crypto-input" style="background:#f5f5f5; color:#333; margin-top:15px" placeholder="Chave Pix do destino">
            <input type="number" id="pix-val" class="crypto-input" style="background:#f5f5f5; color:#333" placeholder="R$ 0,00">
            <div id="pix-loading" style="display:none; text-align:center; margin-bottom:15px; color:var(--primary-orange)">Processando envio...</div>
            <button class="btn btn-orange" onclick="sendPix()">Confirmar Envio</button>
            <button class="btn" style="color:var(--gray)" onclick="closeModal('modal-pix')">Voltar</button>
        </div>
    </div>

    <div id="modal-comprovante" class="modal">
        <div style="width: 100%; padding: 25px; background: white; height: 100%;">
            <div style="text-align: center; margin-top: 40px;">
                <div style="width: 60px; height: 60px; background: var(--green); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 30px; margin: 0 auto 15px;">‚úì</div>
                <h3 style="color: var(--text-dark);">Pix realizado!</h3>
                <p id="comp-data" style="color: var(--gray); font-size: 13px;">--/--/-- √†s --:--</p>
            </div>

            <div class="receipt-dashed">
                <p style="font-size: 11px; color: var(--gray);">VALOR</p>
                <h2 id="comp-valor" style="color: var(--text-dark); margin-bottom: 20px;">R$ 0,00</h2>

                <p style="font-size: 11px; color: var(--gray);">PARA</p>
                <b id="comp-destino" style="color: var(--text-dark); display: block; font-size: 15px;">Nome do Recebedor</b>
                <span id="comp-chave" style="font-size: 13px; color: var(--gray);">chavepix@servidor.com</span>

                <p style="font-size: 11px; color: var(--gray); margin-top: 20px;">INSTITUI√á√ÉO</p>
                <b style="color: var(--text-dark); display: block; font-size: 15px;">DD1 BANK S.A.</b>
            </div>

            <div style="font-size: 10px; color: var(--gray); text-align: center; margin-bottom: 30px;">
                AUTENTICA√á√ÉO: <br>
                <span id="comp-id" style="text-transform: uppercase;">00000000000</span>
            </div>

            <button class="btn btn-orange" onclick="closeModal('modal-comprovante')">Concluir</button>
            <button class="btn" style="color: var(--primary-orange); border: 1px solid var(--primary-orange);">Compartilhar Recibo</button>
        </div>
    </div>

    <nav class="nav-bar">
        <div class="nav-btn active" onclick="switchTab('tab-home', this)">üè†<br>Home</div>
        <div class="nav-btn" onclick="switchTab('tab-invest', this)">üìà<br>Invest</div>
        <div class="nav-btn" onclick="switchTab('tab-config', this)">‚öôÔ∏è<br>Config</div>
    </nav>
</div>

<script>
    let balance = 1450.30;
    let isTrading = false;
    let tradeAmt = 0;
    let tradeMult = 1.00;
    let tradeInterval;

    function format(v) { return v.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' }); }
    function updateDisplay() { document.getElementById('main-balance').innerText = format(balance); }

    function switchTab(id, el) {
        document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        el.classList.add('active');
    }

    function openPix() { document.getElementById('modal-pix').style.display = 'flex'; }
    function closeModal(id) { document.getElementById(id).style.display = 'none'; }

    // --- L√ìGICA DO PIX COM COMPROVANTE ---
    function sendPix() {
        let key = document.getElementById('pix-key').value;
        let val = parseFloat(document.getElementById('pix-val').value);
        
        if(!key || isNaN(val) || val <= 0) { alert("Preencha corretamente!"); return; }
        if(val > balance) { alert("Saldo insuficiente!"); return; }

        document.getElementById('pix-loading').style.display = 'block';

        setTimeout(() => {
            // Atualiza Banco
            balance -= val;
            updateDisplay();
            addHistory("Pix Enviado", `Para: ${key}`, val, 'debit');

            // Prepara Comprovante
            const agora = new Date();
            document.getElementById('comp-data').innerText = agora.toLocaleDateString() + ' √†s ' + agora.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            document.getElementById('comp-valor').innerText = format(val);
            document.getElementById('comp-destino').innerText = "Destinat√°rio DD1";
            document.getElementById('comp-chave').innerText = key;
            document.getElementById('comp-id').innerText = Math.random().toString(36).substr(2, 12).toUpperCase();

            // Troca de Telas
            document.getElementById('pix-loading').style.display = 'none';
            document.getElementById('modal-pix').style.display = 'none';
            document.getElementById('modal-comprovante').style.display = 'flex';
        }, 1500);
    }

    // --- SIMULADOR DE INVESTIMENTO ---
    function startTrade() {
        let amt = parseFloat(document.getElementById('invest-amt').value);
        if(isNaN(amt) || amt <= 0 || amt > balance) { alert("Saldo insuficiente ou valor inv√°lido!"); return; }

        balance -= amt; tradeAmt = amt; updateDisplay();
        isTrading = true; tradeMult = 1.00;
        document.getElementById('btn-trade-start').style.display = 'none';
        document.getElementById('btn-trade-stop').style.display = 'block';
        document.getElementById('crypto-mult').style.color = "var(--primary-orange)";

        let crashPoint = (Math.random() * 3.5 + 1.1).toFixed(2);
        tradeInterval = setInterval(() => {
            tradeMult += 0.01;
            document.getElementById('crypto-mult').innerText = tradeMult.toFixed(2) + "x";
            document.getElementById('btn-trade-stop').innerText = "VENDER: " + format(tradeAmt * tradeMult);
            if(tradeMult >= crashPoint) endTrade(true);
        }, 100);
    }

    function cashOut() {
        if(!isTrading) return;
        let win = tradeAmt * tradeMult;
        balance += win;
        addHistory("Lucro Trade", `DD1 Coin ${tradeMult.toFixed(2)}x`, win, 'credit');
        endTrade(false);
    }

    function endTrade(crashed) {
        clearInterval(tradeInterval);
        isTrading = false;
        document.getElementById('btn-trade-start').style.display = 'block';
        document.getElementById('btn-trade-stop').style.display = 'none';
        updateDisplay();
        if(crashed) {
            document.getElementById('crypto-mult').style.color = "var(--red)";
            document.getElementById('trade-status').innerText = "O mercado caiu! Voc√™ perdeu.";
            addHistory("Preju√≠zo Trade", "Crash no Gr√°fico", tradeAmt, 'debit');
        } else {
            document.getElementById('crypto-mult').style.color = "var(--green)";
            document.getElementById('trade-status').innerText = "Lucro realizado com sucesso!";
        }
    }

    // --- CONFIGS ---
    function updateBalanceManual() {
        let val = parseFloat(document.getElementById('cfg-new-balance').value);
        if(!isNaN(val)) { balance = val; updateDisplay(); alert("Saldo alterado!"); }
    }

    function scheduleInbound() {
        let name = document.getElementById('sched-name').value;
        let amt = parseFloat(document.getElementById('sched-amt').value);
        let sec = parseInt(document.getElementById('sched-time').value);
        alert(`Sucesso! Em ${sec} segundos o Pix de ${name} vai cair.`);
        setTimeout(() => {
            balance += amt; updateDisplay();
            addHistory("Pix Recebido", `De: ${name}`, amt, 'credit');
            let push = document.getElementById('push');
            document.getElementById('push-msg').innerText = `${name} te enviou ${format(amt)}`;
            push.style.top = "15px";
            setTimeout(() => { push.style.top = "-100px"; }, 4000);
        }, sec * 1000);
    }

    function addHistory(title, sub, val, type) {
        let list = document.getElementById('history-list');
        let color = type === 'credit' ? 'var(--green)' : 'var(--text-dark)';
        let sign = type === 'credit' ? '+' : '-';
        let item = `<div class="transaction-item">
            <div class="t-info"><b>${title}</b><small>${sub}</small></div>
            <div class="t-amt" style="color:${color}">${sign} ${format(val)}</div>
        </div>`;
        list.innerHTML = item + list.innerHTML;
    }

    updateDisplay();
</script>

</body>
</html>
